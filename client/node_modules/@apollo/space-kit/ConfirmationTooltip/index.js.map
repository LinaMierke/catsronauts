{"version":3,"file":"index.js","sources":["../src/ConfirmationTooltip/index.tsx"],"sourcesContent":["import \"../../node_modules/tippy.js/animations/shift-away.css\";\nimport React from \"react\";\nimport { AbstractTooltip, AbstractTooltipProps } from \"../AbstractTooltip\";\n\ntype Props = Pick<\n  React.ComponentProps<typeof AbstractTooltip>,\n  \"children\" | \"content\" | \"disabled\"\n> &\n  AbstractTooltipProps;\n\n/**\n * Display a non-interactive tooltip after an element is clicked on and then\n * remove the tooltip after a short period of time\n */\nexport const ConfirmationTooltip: React.FC<Props> = ({\n  children,\n  ...props\n}) => {\n  /**\n   * Store result of `useTimeout` so we can cancel the timeout if this component\n   * is unmounted before the timeout fires\n   */\n  const timeoutRef = React.useRef<number | null>(null);\n\n  // When this component is being unmounted, remove the timeout if one exists.\n  // This will prevent trying to call methods on destroyed components\n  React.useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        window.clearTimeout(timeoutRef.current);\n      }\n    };\n  });\n\n  return (\n    <AbstractTooltip\n      trigger=\"click\"\n      {...props}\n      onShow={(instance) => {\n        if (timeoutRef.current) {\n          window.clearTimeout(timeoutRef.current);\n        }\n\n        timeoutRef.current = window.setTimeout(() => {\n          instance.hide();\n        }, 3000);\n      }}\n      onHide={() => {\n        if (timeoutRef.current) {\n          window.clearTimeout(timeoutRef.current);\n        }\n\n        timeoutRef.current = null;\n      }}\n    >\n      {children}\n    </AbstractTooltip>\n  );\n};\n"],"names":["React","AbstractTooltip"],"mappings":";;;;;;;;;;;;;;;;;;;;AAUA;;;;AAIA,IAAa,mBAAmB,GAAoB,UAAC,EAGpD;IAFC,IAAA,QAAQ,cAAA,EACL,KAAK,qBAF2C,YAGpD,CADS;;;;;IAMR,IAAM,UAAU,GAAGA,cAAK,CAAC,MAAM,CAAgB,IAAI,CAAC,CAAC;;;IAIrDA,cAAK,CAAC,SAAS,CAAC;QACd,OAAO;YACL,IAAI,UAAU,CAAC,OAAO,EAAE;gBACtB,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;aACzC;SACF,CAAC;KACH,CAAC,CAAC;IAEH,QACEA,6BAACC,uBAAe,oBACd,OAAO,EAAC,OAAO,IACX,KAAK,IACT,MAAM,EAAE,UAAC,QAAQ;YACf,IAAI,UAAU,CAAC,OAAO,EAAE;gBACtB,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;aACzC;YAED,UAAU,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC;gBACrC,QAAQ,CAAC,IAAI,EAAE,CAAC;aACjB,EAAE,IAAI,CAAC,CAAC;SACV,EACD,MAAM,EAAE;YACN,IAAI,UAAU,CAAC,OAAO,EAAE;gBACtB,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;aACzC;YAED,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;SAC3B,KAEA,QAAQ,CACO,EAClB;CACH;;;;"}