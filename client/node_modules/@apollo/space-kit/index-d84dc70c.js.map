{"version":3,"file":"index-d84dc70c.js","sources":["src/AbstractTooltip/abstractTooltip/TippyStyles.tsx","src/AbstractTooltip/abstractTooltip/matchTriggerWidth.ts","src/AbstractTooltip/index.tsx"],"sourcesContent":["import \"../../../node_modules/tippy.js/dist/tippy.css\";\nimport React from \"react\";\nimport { base } from \"../../typography\";\nimport { colors } from \"../../colors\";\nimport { Global, css } from \"@emotion/core\";\n\nexport const TippyStyles: React.FC = () => (\n  <Global\n    styles={css({\n      \".tippy-box\": {\n        \"&[data-theme=space-kit]\": {\n          ...base.small,\n          backgroundColor: colors.black.base,\n          opacity: 0.95,\n\n          '&[data-placement^=\"top\"] > .tippy-arrow': {\n            borderTopColor: colors.black.base,\n          },\n          '&[data-placement^=\"bottom\"] > .tippy-arrow': {\n            borderBottomColor: colors.black.base,\n          },\n          '&[data-placement^=\"right\"] > .tippy-arrow': {\n            borderRightColor: colors.black.base,\n          },\n          '&[data-placement^=\"left\"] > .tippy-arrow': {\n            borderLeftColor: colors.black.base,\n          },\n\n          \".tippy-content\": {\n            padding: \"4px 8px\",\n          },\n\n          \"&.space-kit-relaxed .tippy-content\": {\n            padding: \"8px 12px\",\n          },\n        },\n      },\n    })}\n  />\n);\n","import { Modifier } from \"@popperjs/core\";\n\nexport const matchTriggerWidth: Modifier<\"matchTriggerWidth\", unknown> = {\n  name: \"matchTriggerWidth\",\n  enabled: true,\n  phase: \"beforeWrite\",\n  requires: [\"computeStyles\"],\n  requiresIfExists: [\"flip\", \"maxSize\"],\n  fn: ({ state }) => {\n    state.styles.popper.width = `${state.rects.reference.width}px`;\n  },\n  effect: ({ state }) => {\n    state.elements.popper.style.width = `${\n      (state.elements.reference as HTMLElement).offsetWidth\n    }px`;\n    const tippyBox = state.elements.popper.querySelector<HTMLElement>(\n      \".tippy-box\"\n    );\n    if (tippyBox) {\n      tippyBox.style.minWidth = \"0\";\n    }\n  },\n};\n","import \"../../node_modules/tippy.js/animations/shift-away.css\";\nimport React from \"react\";\nimport Tippy from \"@tippyjs/react\";\nimport { Placement } from \"tippy.js\";\nimport { TippyStyles } from \"./abstractTooltip/TippyStyles\";\nimport { useSpaceKitProvider } from \"../SpaceKitProvider\";\nimport { matchTriggerWidth as matchTriggerWidthModifier } from \"./abstractTooltip/matchTriggerWidth\";\nimport classnames from \"classnames\";\n\ntype TippyProps = React.ComponentProps<typeof Tippy>;\n\nexport interface AbstractTooltipProps {\n  /**\n   * Fallback placements to use if the default placement clips the content.\n   *\n   * @see https://popper.js.org/docs/v2/modifiers/flip/#fallbackplacements\n   */\n  fallbackPlacements?: readonly Placement[];\n\n  /**\n   * Force the tooltip to be visible. Only use this for testing purposes; don't\n   * use this to programatically control the component\n   */\n  forceVisibleForTestingOnly?: boolean;\n\n  /**\n   * Relaxed is intended for when your tooltip has a header and you need some\n   * more space\n   */\n  padding?: \"normal\" | \"relaxed\";\n\n  /**\n   * Indicates that the popup list should match the width of the trigger\n   * compoonent\n   *\n   * @default false\n   */\n  matchTriggerWidth?: boolean;\n}\n\ntype Props = TippyProps & AbstractTooltipProps;\n\nexport const AbstractTooltip: React.FC<Props> = ({\n  animation = \"shift-away\",\n  children,\n  className,\n  fallbackPlacements,\n  forceVisibleForTestingOnly,\n  padding = \"normal\",\n  trigger,\n  hideOnClick,\n  matchTriggerWidth = false,\n  popperOptions = {},\n  ...props\n}) => {\n  const {\n    disableAnimations: disableAnimationsFromProvider,\n  } = useSpaceKitProvider();\n  const disableAnimations =\n    disableAnimationsFromProvider || forceVisibleForTestingOnly;\n\n  return (\n    <>\n      <TippyStyles />\n      <Tippy\n        animation={disableAnimations ? false : animation}\n        arrow={false}\n        hideOnClick={forceVisibleForTestingOnly ? false : hideOnClick}\n        trigger={forceVisibleForTestingOnly ? \"manual\" : trigger}\n        visible={forceVisibleForTestingOnly ? true : undefined}\n        theme=\"space-kit\"\n        popperOptions={{\n          ...popperOptions,\n          modifiers: [\n            {\n              name: \"flip\",\n              options: {\n                fallbackPlacements,\n              },\n            },\n            {\n              ...matchTriggerWidthModifier,\n              enabled: matchTriggerWidth,\n            },\n            // This must be at the end because later modifiers override earlier\n            // ones. @see\n            // https://popper.js.org/docs/v2/faq/#how-do-i-set-modifier-defaults-and-allow-them-to-be-overridden\n            ...(popperOptions.modifiers || []),\n          ],\n        }}\n        {...props}\n        className={classnames(className, {\n          \"space-kit-relaxed\": padding === \"relaxed\",\n        })}\n      >\n        {children}\n      </Tippy>\n    </>\n  );\n};\n"],"names":["React","Global","css","base.small","colors","matchTriggerWidth","useSpaceKitProvider","matchTriggerWidthModifier"],"mappings":";;;;;;;;;;;;;;;;;;;;AAMO,IAAM,WAAW,GAAa,cAAM,QACzCA,6BAACC,WAAM,IACL,MAAM,EAAEC,QAAG,CAAC;QACV,YAAY,EAAE;YACZ,yBAAyB,sCACpBC,YAAU,KACb,eAAe,EAAEC,aAAM,CAAC,KAAK,CAAC,IAAI,EAClC,OAAO,EAAE,IAAI,EAEb,yCAAyC,EAAE;oBACzC,cAAc,EAAEA,aAAM,CAAC,KAAK,CAAC,IAAI;iBAClC,EACD,4CAA4C,EAAE;oBAC5C,iBAAiB,EAAEA,aAAM,CAAC,KAAK,CAAC,IAAI;iBACrC,EACD,2CAA2C,EAAE;oBAC3C,gBAAgB,EAAEA,aAAM,CAAC,KAAK,CAAC,IAAI;iBACpC,EACD,0CAA0C,EAAE;oBAC1C,eAAe,EAAEA,aAAM,CAAC,KAAK,CAAC,IAAI;iBACnC,EAED,gBAAgB,EAAE;oBAChB,OAAO,EAAE,SAAS;iBACnB,EAED,oCAAoC,EAAE;oBACpC,OAAO,EAAE,UAAU;iBACpB,GACF;SACF;KACF,CAAC,GACF,IACH,CAAC;;ACrCK,IAAM,iBAAiB,GAA2C;IACvE,IAAI,EAAE,mBAAmB;IACzB,OAAO,EAAE,IAAI;IACb,KAAK,EAAE,aAAa;IACpB,QAAQ,EAAE,CAAC,eAAe,CAAC;IAC3B,gBAAgB,EAAE,CAAC,MAAM,EAAE,SAAS,CAAC;IACrC,EAAE,EAAE,UAAC,EAAS;YAAP,KAAK,WAAA;QACV,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,GAAM,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,OAAI,CAAC;KAChE;IACD,MAAM,EAAE,UAAC,EAAS;YAAP,KAAK,WAAA;QACd,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAC9B,KAAK,CAAC,QAAQ,CAAC,SAAyB,CAAC,WAAW,OACnD,CAAC;QACL,IAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,CAClD,YAAY,CACb,CAAC;QACF,IAAI,QAAQ,EAAE;YACZ,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAC;SAC/B;KACF;CACF,CAAC;;ICoBW,eAAe,GAAoB,UAAC,EAYhD;IAXC,IAAA,iBAAwB,EAAxB,SAAS,mBAAG,YAAY,KAAA,EACxB,QAAQ,cAAA,EACR,SAAS,eAAA,EACT,kBAAkB,wBAAA,EAClB,0BAA0B,gCAAA,EAC1B,eAAkB,EAAlB,OAAO,mBAAG,QAAQ,KAAA,EAClB,OAAO,aAAA,EACP,WAAW,iBAAA,EACX,yBAAyB,EAAzBC,mBAAiB,mBAAG,KAAK,KAAA,EACzB,qBAAkB,EAAlB,aAAa,mBAAG,EAAE,KAAA,EACf,KAAK,qBAXuC,qKAYhD,CADS;IAGN,IAAmB,6BAA6B,GAC9CC,yBAAmB,EAAE,kBADyB,CACxB;IAC1B,IAAM,iBAAiB,GACrB,6BAA6B,IAAI,0BAA0B,CAAC;IAE9D,QACEN;QACEA,6BAAC,WAAW,OAAG;QACfA,6BAAC,KAAK,oBACJ,SAAS,EAAE,iBAAiB,GAAG,KAAK,GAAG,SAAS,EAChD,KAAK,EAAE,KAAK,EACZ,WAAW,EAAE,0BAA0B,GAAG,KAAK,GAAG,WAAW,EAC7D,OAAO,EAAE,0BAA0B,GAAG,QAAQ,GAAG,OAAO,EACxD,OAAO,EAAE,0BAA0B,GAAG,IAAI,GAAG,SAAS,EACtD,KAAK,EAAC,WAAW,EACjB,aAAa,sCACR,aAAa,KAChB,SAAS;oBACP;wBACE,IAAI,EAAE,MAAM;wBACZ,OAAO,EAAE;4BACP,kBAAkB,oBAAA;yBACnB;qBACF;wDAEIO,iBAAyB,KAC5B,OAAO,EAAEF,mBAAiB;oBAKxB,aAAa,CAAC,SAAS,IAAI,EAAE,SAGjC,KAAK,IACT,SAAS,EAAE,UAAU,CAAC,SAAS,EAAE;gBAC/B,mBAAmB,EAAE,OAAO,KAAK,SAAS;aAC3C,CAAC,KAED,QAAQ,CACH,CACP,EACH;CACH;;;;"}