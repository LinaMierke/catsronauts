{"version":3,"file":"index.js","sources":["../src/SpaceKitProvider/index.tsx"],"sourcesContent":["import React from \"react\";\n\ninterface State {\n  /**\n   * Disable all JavaScript based animations\n   *\n   * This includes Framer Motion animations and manual css values.\n   *\n   * @default false\n   */\n  disableAnimations: boolean;\n\n  theme: \"light\" | \"dark\";\n}\n\nconst defaultState: State = {\n  disableAnimations: false,\n  theme: \"light\",\n};\n\n// This implementation is based on the excellent blog post by Kent C. Dodds on\n// How to use React Context effectively:\n// https://kentcdodds.com/blog/how-to-use-react-context-effectively\n\nconst SpaceKitStateContext = React.createContext<State | undefined>(undefined);\nconst SpaceKitSetContext = React.createContext<\n  React.Dispatch<React.SetStateAction<State | undefined>> | undefined\n>(undefined);\n\n/**\n * Provider to set options on all Space Kit components\n *\n * This is completely optional; components will not have issues if this is\n * missing from the context.\n *\n * A good place to use this would be in your storybook configuration as a\n * decorator applied to all components if we're running inside of chromatic.\n */\nexport const SpaceKitProvider: React.FC<Partial<State>> = ({\n  children,\n  ...stateProps\n}) => {\n  const [state, setState] = React.useState<State | undefined>({\n    ...defaultState,\n    ...stateProps,\n  });\n\n  return (\n    <SpaceKitStateContext.Provider value={state}>\n      <SpaceKitSetContext.Provider value={setState}>\n        {children}\n      </SpaceKitSetContext.Provider>\n    </SpaceKitStateContext.Provider>\n  );\n};\n\n/**\n * Hook to get the values from the Space Kit Provider with sensible defaults for\n * all the values.\n *\n * This component does _not_ require us to be wrapped with `SpaceKitProvider`\n */\nexport function useSpaceKitProvider(): Readonly<State> {\n  const context = React.useContext(SpaceKitStateContext);\n\n  if (context == null) {\n    // Provide a default because consumers are not required to wrap their\n    // components with our providers\n    return defaultState;\n  }\n\n  return context;\n}\n"],"names":["React"],"mappings":";;;;;;;;;;AAeA,IAAM,YAAY,GAAU;IAC1B,iBAAiB,EAAE,KAAK;IACxB,KAAK,EAAE,OAAO;CACf,CAAC;;;;AAMF,IAAM,oBAAoB,GAAGA,cAAK,CAAC,aAAa,CAAoB,SAAS,CAAC,CAAC;AAC/E,IAAM,kBAAkB,GAAGA,cAAK,CAAC,aAAa,CAE5C,SAAS,CAAC,CAAC;;;;;;;;;;AAWb,IAAa,gBAAgB,GAA6B,UAAC,EAG1D;IAFC,IAAA,QAAQ,cAAA,EACL,UAAU,qBAF4C,YAG1D,CADc;IAEP,IAAA,KAAoBA,cAAK,CAAC,QAAQ,qCACnC,YAAY,GACZ,UAAU,EACb,EAHK,KAAK,QAAA,EAAE,QAAQ,QAGpB,CAAC;IAEH,QACEA,6BAAC,oBAAoB,CAAC,QAAQ,IAAC,KAAK,EAAE,KAAK;QACzCA,6BAAC,kBAAkB,CAAC,QAAQ,IAAC,KAAK,EAAE,QAAQ,IACzC,QAAQ,CACmB,CACA,EAChC;CACH,CAAC;;;;;;;AAQF,SAAgB,mBAAmB;IACjC,IAAM,OAAO,GAAGA,cAAK,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;IAEvD,IAAI,OAAO,IAAI,IAAI,EAAE;;;QAGnB,OAAO,YAAY,CAAC;KACrB;IAED,OAAO,OAAO,CAAC;CAChB;;;;;"}